{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","todos","selectUser","className","map","todo","cn","completed","htmlFor","type","name","checked","title","onClick","userId","id","BASE_URL","CurrentUser","state","user","this","loadUserInfo","prevProps","props","fetch","then","response","json","setState","email","phone","clearUser","React","Component","App","selectedUserId","filterByTitle","selectedStatus","handleChange","event","target","value","prevState","filteredTodos","filter","includes","onChange","getFilteredTodos","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.47f33716.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoList.scss';\nimport cn from 'classnames';\n\ntype Props = {\n  todos: Todo[];\n  selectUser: (userId: number) => void;\n};\n\nexport const TodoList: React.FC<Props> = ({ todos, selectUser }) => (\n  <div className=\"TodoList\">\n    <h2>Todos:</h2>\n\n    <div className=\"TodoList__list-container\">\n      <ul className=\"TodoList__list\">\n        {todos.map((todo) => {\n          return (\n            <li\n              key={todo.id}\n              className={cn(\n                'TodoList__item ',\n                { 'TodoList__item--checked': todo.completed },\n                { 'TodoList__item--unchecked': !todo.completed },\n              )}\n            >\n              <label htmlFor=\"status\">\n                <input type=\"checkbox\" name=\"status\" checked={todo.completed} />\n                <p>{todo.title}</p>\n              </label>\n\n              <button\n                className={cn('TodoList__user-button', 'button', {\n                  'TodoList__user-button--selected': !todo.completed,\n                })}\n                type=\"button\"\n                onClick={() => selectUser(todo.userId)}\n              >\n                {`User#${todo.userId}`}\n              </button>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  </div>\n);\n","const BASE_URL = 'https://mate.academy/students-api';\n\nexport function getTodos() {\n  return fetch(`${BASE_URL}/Todos`).then((response) => response.json());\n}\n\nexport function getUser(id: number) {\n  return fetch(`${BASE_URL}/users/${id}`).then((response) => response.json());\n}\n","import React from 'react';\nimport './CurrentUser.scss';\n\nimport { getUser } from '../../api';\n\ntype Props = {\n  userId: number;\n  clearUser: () => void\n};\n\ninterface State {\n  user: User | null;\n}\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    user: null,\n  };\n\n  componentDidMount() {\n    this.loadUserInfo();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.userId !== this.props.userId) {\n      this.loadUserInfo();\n    }\n  }\n\n  loadUserInfo() {\n    getUser(this.props.userId).then((user) => {\n      this.setState({ user });\n    });\n  }\n\n  render() {\n    const { user } = this.state;\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>{`Selected user: ${user?.id}`}</span>\n        </h2>\n\n        <h3 className=\"CurrentUser__name\">{user?.name}</h3>\n        <p className=\"CurrentUser__email\">{user?.email}</p>\n        <p className=\"CurrentUser__phone\">{user?.phone}</p>\n        <button type=\"button\" className=\"button\" onClick={this.props.clearUser}>\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[];\n  filterByTitle: string;\n  selectedStatus: string;\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todos: [],\n    filterByTitle: '',\n    selectedStatus: '',\n  };\n\n  componentDidMount() {\n    getTodos().then((todos) => {\n      this.setState({ todos });\n    });\n  }\n\n  handleChange = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>,\n  ) => {\n    const { name, value } = event.target;\n\n    this.setState((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  getFilteredTodos() {\n    const { todos, filterByTitle, selectedStatus } = this.state;\n\n    let filteredTodos = todos.filter((todo) => todo.title.includes(filterByTitle));\n\n    if (selectedStatus === 'completed') {\n      filteredTodos = filteredTodos.filter((todo) => todo.completed);\n    }\n\n    if (selectedStatus === 'active') {\n      filteredTodos = filteredTodos.filter((todo) => !todo.completed);\n    }\n\n    return filteredTodos;\n  }\n\n  selectUser = (userId: number) => {\n    if (this.state.selectedUserId !== userId) {\n      this.setState({\n        selectedUserId: userId,\n      });\n    }\n  };\n\n  clearUser = () => {\n    this.setState({ selectedUserId: 0 });\n  };\n\n  render() {\n    const { selectedUserId, selectedStatus } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <input\n            type=\"text\"\n            value={this.state.filterByTitle}\n            name=\"filterByTitle\"\n            onChange={this.handleChange}\n          />\n          <select\n            name=\"selectedStatus\"\n            value={selectedStatus}\n            onChange={this.handleChange}\n          >\n            <option value=\"all\">All</option>\n            <option value=\"completed\">Completed</option>\n            <option value=\"active\">Active</option>\n          </select>\n          <TodoList\n            todos={this.getFilteredTodos()}\n            selectUser={this.selectUser}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser userId={selectedUserId} clearUser={this.clearUser} />\n            ) : (\n              'No user selected'\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}